<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Nmap使用指南</title>
      <link href="2021/01/05/nmap-shi-yong-zhi-nan/"/>
      <url>2021/01/05/nmap-shi-yong-zhi-nan/</url>
      
        <content type="html"><![CDATA[<h1 id="0x001-Nmap-简介"><a href="#0x001-Nmap-简介" class="headerlink" title="0x001 Nmap 简介"></a>0x001 Nmap 简介</h1><hr><p>​    Nmap是一款网络扫描和主机检测的非常有用的工具。Nmap是不局限于仅仅收集信息和枚举，同时可以用来作为一个漏洞探测器或安全扫描器。它可以适用于windows,linux,mac等操作系统。</p><h1 id="0x002-Nmap用途"><a href="#0x002-Nmap用途" class="headerlink" title="0x002 Nmap用途"></a>0x002 Nmap用途</h1><hr><ol><li><p>检测活在网络上的主机（主机发现）</p></li><li><p>检测主机上开放的端口（端口发现或枚举）</p></li><li><p>检测到相应的端口（服务发现）的软件和版本</p></li><li><p>检测操作系统，硬件地址，以及软件版本</p></li><li><p>检测脆弱性的漏洞（Nmap的脚本）</p></li></ol><h1 id="0x003-Nmap-基础使用"><a href="#0x003-Nmap-基础使用" class="headerlink" title="0x003 Nmap 基础使用"></a>0x003 Nmap 基础使用</h1><hr><h2 id="Nmap-命令行参数"><a href="#Nmap-命令行参数" class="headerlink" title="Nmap 命令行参数"></a>Nmap 命令行参数</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">nmap [<span class="function">Scan <span class="title">Type</span><span class="params">(s)</span>] [Options] </span>{target specification}</span><br><span class="line"><span class="function">scan <span class="title">type</span><span class="params">(s)</span> 用于指定扫描类型</span></span><br><span class="line"><span class="function">options 用于指定选项</span></span><br><span class="line"><span class="function">target specification 用于指定扫描目标</span></span><br><span class="line"><span class="function">-s 指定扫描类型</span></span><br><span class="line"><span class="function">如下：</span></span><br><span class="line"><span class="function">-<span class="title">sP</span> <span class="params">(ping扫描)</span> *存活主机探测</span></span><br><span class="line"><span class="function">-<span class="title">sS</span> <span class="params">(TCP SYN扫描 隐身扫描)</span>  *默认扫描方式</span></span><br><span class="line"><span class="function">-<span class="title">sT</span> <span class="params">(TCP扫描)</span>  *SYN不能用时就TCP扫描</span></span><br><span class="line"><span class="function">-<span class="title">sU</span> <span class="params">(UDP扫描)</span></span></span><br><span class="line"><span class="function">-<span class="title">sA</span> <span class="params">(ACK扫描)</span>  *三次握手 用于探测出防火墙过滤端口 实际渗透中没有多大用途</span></span><br><span class="line"><span class="function">-<span class="title">sV</span> <span class="params">(版本探测)</span></span></span><br><span class="line"><span class="function">-<span class="title">A</span>  <span class="params">(操作系统探测)</span></span></span><br><span class="line"><span class="function">-<span class="title">O</span>  <span class="params">(启用操作系统检测)</span></span></span><br><span class="line"><span class="function">-v 详细 选项说明</span></span><br><span class="line"><span class="function">-P0 [指定端口] <span class="params">(无ping扫描)</span> </span></span><br><span class="line"><span class="function">-PU [指定端口] <span class="params">(udp ping扫描)</span> </span></span><br><span class="line"><span class="function">-PS [指定端口] <span class="params">(TCP SYN ping 扫描)</span> </span></span><br><span class="line"><span class="function">-PA [指定端口] <span class="params">(tcp ack ping扫描)</span> </span></span><br><span class="line"><span class="function">-PI 使用真正的pingICMP echo请求来扫描目标主机是否正在运行</span></span><br><span class="line"><span class="function">-iL 指定扫描主机列表 </span></span><br><span class="line"><span class="function">-iR 随机选择目标 </span></span><br><span class="line"><span class="function">--exclude 排除扫描目标 </span></span><br><span class="line"><span class="function">--excludefile 排除文件中目标列表 </span></span><br><span class="line"><span class="function">-<span class="title">n</span> <span class="params">(不用域名解析)</span> </span></span><br><span class="line"><span class="function">-<span class="title">R</span> <span class="params">(为所有目标解析域名)</span></span></span><br><span class="line"><span class="function">-T 时间优化（每隔多久发一次包 ） </span></span><br><span class="line"><span class="function">-T5 最快 </span></span><br><span class="line"><span class="function">-T0 最慢</span></span><br><span class="line"><span class="function">-F 快速扫描 </span></span><br><span class="line"><span class="function">-e 指定网络接口</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></tbody></table></figure><h2 id="ping-扫描"><a href="#ping-扫描" class="headerlink" title="ping 扫描"></a>ping 扫描</h2><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn <span class="number">202.100</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">nmap -sn <span class="number">202.100</span><span class="number">.1</span><span class="number">.10</span> <span class="number">202.100</span><span class="number">.1</span><span class="number">.11</span> </span><br><span class="line">nmap -sn <span class="number">202.100</span><span class="number">.1</span><span class="number">.10</span>-<span class="number">100</span> </span><br><span class="line">nmap -sn -iL Ahost </span><br><span class="line">nmap -sn <span class="number">202.100</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span> -execlude <span class="number">202.100</span><span class="number">.1</span><span class="number">.254</span> </span><br><span class="line">nmap -sn <span class="number">202.100</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span> -excludefile Ahost </span><br><span class="line"></span><br><span class="line">Ahost：主机清单 </span><br><span class="line">-execlude：排除指定主机</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="TCP-UDP-扫描"><a href="#TCP-UDP-扫描" class="headerlink" title="TCP/UDP 扫描"></a>TCP/UDP 扫描</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">TCP SYN 扫描 </span><br><span class="line">nmap -sS <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span> </span><br><span class="line">TCP Connect扫描 </span><br><span class="line">nmap -sT <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span> </span><br><span class="line">TCP FIN 扫描 </span><br><span class="line">nmap -sF <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span> </span><br><span class="line">UDP 扫描 </span><br><span class="line">nmap -sU <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="端口服务扫描"><a href="#端口服务扫描" class="headerlink" title="端口服务扫描"></a>端口服务扫描</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span></span><br></pre></td></tr></tbody></table></figure><h2 id="综合扫描"><a href="#综合扫描" class="headerlink" title="综合扫描"></a>综合扫描</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -A <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span></span><br></pre></td></tr></tbody></table></figure><h2 id="全面综合扫描"><a href="#全面综合扫描" class="headerlink" title="全面综合扫描"></a>全面综合扫描</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -T4 -A -v <span class="number">202.100</span><span class="number">.1</span><span class="number">.210</span></span><br></pre></td></tr></tbody></table></figure><h1 id="0x004-Nmap-脚本扫描"><a href="#0x004-Nmap-脚本扫描" class="headerlink" title="0x004 Nmap 脚本扫描"></a>0x004 Nmap 脚本扫描</h1><hr><h2 id="1-Nmap脚本命令行参数"><a href="#1-Nmap脚本命令行参数" class="headerlink" title="1.Nmap脚本命令行参数"></a>1.Nmap脚本命令行参数</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-sC: 等价于–script=<span class="keyword">default</span>，使用默认类别的脚本进行扫描 可更换其他类别 </span><br><span class="line">–script=&lt;Lua scripts&gt;: &lt;Lua scripts&gt;使用某个或某类脚本进行扫描，支持通配符描述</span><br><span class="line">–script-args=&lt;n1=v1,[n2=v2,...]&gt;: 为脚本提供默认参数 </span><br><span class="line">–script-args-file=filename: 使用文件来为脚本提供参数 </span><br><span class="line">–script-trace: 显示脚本执行过程中发送与接收的数据 </span><br><span class="line">–script-updatedb: 更新脚本数据库 </span><br><span class="line">–script-help=&lt;scripts&gt;: 显示脚本的帮助信息，其中&lt;scripts&gt;部分可以逗号分隔的文件或脚本类别</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="2-Nmap脚本分类"><a href="#2-Nmap脚本分类" class="headerlink" title="2.Nmap脚本分类"></a>2.Nmap脚本分类</h2><p>Nmap所有脚本文件在<span style="color:orange;">/usr/share/nmap/scripts/</span>目录下，切换到该目录下，然后扫描时可根据需要设置<span style="color:orange;"> – script =</span> 类别这种方式进行比较笼统的扫描。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">auth: 负责处理鉴权证书（绕开鉴权）的脚本</span><br><span class="line">broadcast: 在局域网内探查更多服务开启状况，如dhcp/dns/sqlserver等服务 </span><br><span class="line">brute: 提供暴力破解方式，针对常见的应用如http/snmp等 </span><br><span class="line"><span class="keyword">default</span>: 使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力 </span><br><span class="line">discovery: 对网络进行更多的信息，如SMB枚举、SNMP查询等 </span><br><span class="line">dos: 用于进行拒绝服务攻击 </span><br><span class="line">exploit: 利用已知的漏洞入侵系统 </span><br><span class="line">external: 利用第三方的数据库或资源，例如进行whois解析 </span><br><span class="line">fuzzer: 模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞 </span><br><span class="line">intrusive: 入侵性的脚本，此类脚本可能引发对方的IDS/IPS的记录或屏蔽 </span><br><span class="line">malware: 探测目标机是否感染了病毒、开启了后门等信息 </span><br><span class="line">safe: 此类与intrusive相反，属于安全性脚本 </span><br><span class="line">version: 负责增强服务与版本扫描（Version Detection）功能的脚本 </span><br><span class="line">vuln: 负责检查目标机是否有常见的漏洞（Vulnerability），如是否有MS08_067</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><h2 id="3-部分使用案列"><a href="#3-部分使用案列" class="headerlink" title="3.部分使用案列"></a>3.部分使用案列</h2><p>（1）负责处理鉴权证书（绕开鉴权）的脚本,也可以作为检测部分应用弱口令</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=auth <span class="number">192.168</span><span class="number">.137</span>.*</span><br></pre></td></tr></tbody></table></figure><p>（2）提供暴力破解的方式可对数据库，smb，snmp等进行简单密码的暴力猜解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=brute <span class="number">192.168</span><span class="number">.137</span>.*</span><br></pre></td></tr></tbody></table></figure><p>（3）默认的脚本扫描，主要是搜集各种应用服务的信息，收集到后，可再针对具体服务进行攻击</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=<span class="keyword">default</span> <span class="number">192.168</span><span class="number">.137</span>.* </span><br><span class="line">或者 </span><br><span class="line">nmap -sC <span class="number">192.168</span><span class="number">.137</span>.*</span><br></pre></td></tr></tbody></table></figure><p>（4）检查是否存在常见漏洞</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=vuln <span class="number">192.168</span><span class="number">.137</span>.*    </span><br></pre></td></tr></tbody></table></figure><p>（5）在局域网内探查更多服务开启状况</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -p445 --script=broadcast <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>（6）利用第三方的数据库或资源，例如进行whois解析</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script external <span class="number">202.103</span><span class="number">.243</span><span class="number">.110</span> </span><br></pre></td></tr></tbody></table></figure><h1 id="0x005-Nmap-应用服务扫描"><a href="#0x005-Nmap-应用服务扫描" class="headerlink" title="0x005 Nmap 应用服务扫描"></a>0x005 Nmap 应用服务扫描</h1><hr><h2 id="1-vnc扫描"><a href="#1-vnc扫描" class="headerlink" title="1.vnc扫描"></a>1.vnc扫描</h2><p>检查vnc bypass</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  --script=realvnc-auth-bypass <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>检查vnc认证方式</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  --script=vnc-auth  <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>获取vnc信息</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  --script=vnc-info  <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><h2 id="2-smb扫描"><a href="#2-smb扫描" class="headerlink" title="2. smb扫描"></a>2. smb扫描</h2><p>smb破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  --script=smb-brute.nse <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>smb字典破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=smb-brute.nse --script-args=userdb=/<span class="keyword">var</span>/passwd,passdb=/<span class="keyword">var</span>/passwd <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>smb已知的几个严重漏洞</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  --script=smb-check-vulns.nse --script-args=unsafe=<span class="number">1</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>查看共享目录</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">445</span>  --script smb-ls --script-args <span class="string">'share=e$,path=\,smbuser=test,smbpass=test'</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>查询主机一些敏感信息（注：需要下载nmap_service）</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">445</span> -n –script=smb-psexec --script-args= smbuser=test,smbpass=test <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>查看会话</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -p445 --script=smb-<span class="class"><span class="keyword">enum</span>-<span class="title">sessions</span>.<span class="title">nse</span> --<span class="title">script</span>-<span class="title">args</span></span>=smbuser=test,smbpass=test <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>系统信息</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -p445 --script=smb-os-discovery.nse --script-args=smbuser=test,smbpass=test <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><h2 id="3-Mssql扫描"><a href="#3-Mssql扫描" class="headerlink" title="3. Mssql扫描"></a>3. Mssql扫描</h2><p>猜解Mssql用户名和密码</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p1433 --script=ms-sql-brute --script-args=userdb=/<span class="keyword">var</span>/passwd,passdb=/<span class="keyword">var</span>/passwd <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>xp_cmdshell 执行命令</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">1433</span> --script ms-sql-xp-cmdshell --script-args mssql.username=sa,mssql.password=sa,ms-sql-xp-cmdshell.cmd=<span class="string">"net user"</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>dumphash值</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">1433</span> --script ms-sql-dump-hashes.nse --script-args mssql.username=sa,mssql</span><br></pre></td></tr></tbody></table></figure><h2 id="4-Mysql扫描"><a href="#4-Mysql扫描" class="headerlink" title="4. Mysql扫描"></a>4. Mysql扫描</h2><p>扫描root空口令</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p3306 --script=mysql-empty-password.nse <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>列出所有mysql用户</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p3306 --script=mysql-users.nse --script-args=mysqluser=root <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>支持同一应用的所有脚本扫描</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=mysql-* <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><h2 id="5-Oracle扫描"><a href="#5-Oracle扫描" class="headerlink" title="5. Oracle扫描"></a>5. Oracle扫描</h2><p>oracle sid扫描</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=oracle-sid-brute -p 1521-1560 192.168.137.5</span><br></pre></td></tr></tbody></table></figure><p>oracle 弱口令破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script oracle-brute -p <span class="number">1521</span> --script-args oracle-brute.sid=ORCL,userdb=/<span class="keyword">var</span>/passwd,passdb=/<span class="keyword">var</span>/passwd <span class="number">192.168</span><span class="number">.137</span><span class="number">.5</span></span><br></pre></td></tr></tbody></table></figure><h2 id="6-其他好用脚本"><a href="#6-其他好用脚本" class="headerlink" title="6.其他好用脚本"></a>6.其他好用脚本</h2><p>发现网关</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=broadcast-netbios-master-browser <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>破解rsync</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">873</span> --script rsync-brute --script-args <span class="string">'rsync-brute.module=www'</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>informix数据库破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script informix-brute -p <span class="number">9088</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>pgsql破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p <span class="number">5432</span> --script pgsql-brute <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>snmp破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sU --script snmp-brute <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>telnet破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV --script=telnet-brute <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>jboss autopwn</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=http-vuln-cve2010-0738 --script-args <span class="string">'http-vuln-cve2010-0738.paths={/path1/,/path2/}'</span> &lt;target&gt;</span><br></pre></td></tr></tbody></table></figure><p>检查http方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=http-methods.nse <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><p>dos攻击，对于处理能力较小的站点还挺好用的</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script http-slowloris --max-parallelism <span class="number">400</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span>   <span class="string">'half-HTTP'</span> connections</span><br></pre></td></tr></tbody></table></figure><p>samba破解</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script=samba-vuln-cve-<span class="number">2012</span>-<span class="number">1182</span>  -p <span class="number">139</span> <span class="number">192.168</span><span class="number">.137</span><span class="number">.4</span></span><br></pre></td></tr></tbody></table></figure><h2 id="7-不靠谱的脚本："><a href="#7-不靠谱的脚本：" class="headerlink" title="7. 不靠谱的脚本："></a>7. 不靠谱的脚本：</h2><ul><li><span style="color:orange;">vnc - brute </span> 次数多了会禁止连接</li><li><span style="color:orange;"> pcanywhere - brute </span> 次数多了会禁止连接</li></ul><h1 id="0x006-Nmap-高级用法"><a href="#0x006-Nmap-高级用法" class="headerlink" title="0x006 Nmap 高级用法"></a>0x006 Nmap 高级用法</h1><hr><h2 id="1-回顾Nmap简单扫描方式"><a href="#1-回顾Nmap简单扫描方式" class="headerlink" title="1.回顾Nmap简单扫描方式"></a>1.回顾Nmap简单扫描方式</h2><p>​    上述的扫描方式能满足一般的信息搜集需求。而若想利用Nmap探索出特定的场景中更详细的信息，则需仔细地设计Nmap命令行参数，以便精确地控制Nmap的扫描行为。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">全面扫描：nmap -T4 -A targetip </span><br><span class="line">主机发现：nmap -T4 -sn targetip </span><br><span class="line">端口扫描：nmap -T4 targetip </span><br><span class="line">服务扫描：nmap -T4 -sV targetip </span><br><span class="line">操作系统扫描：nmap -T4 -O targetip</span><br></pre></td></tr></tbody></table></figure><h2 id="2-查看本地路由器接口"><a href="#2-查看本地路由器接口" class="headerlink" title="2.查看本地路由器接口"></a>2.查看本地路由器接口</h2><p>Nmap中提供了<code>--iflist</code>选项来查看本地主机的接口信息与路由信息。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --iflist</span><br></pre></td></tr></tbody></table></figure><h2 id="3-指定网口与IP地址"><a href="#3-指定网口与IP地址" class="headerlink" title="3. 指定网口与IP地址"></a>3. 指定网口与IP地址</h2><p>Nmap可指定用哪个网口发送数据，<code>-e &lt;interface&gt;</code>选项。接口的详细信息可以参考<code>--iflist</code>选项输出结果。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -e eth0 targetip</span><br></pre></td></tr></tbody></table></figure><p>  Nmap也可以显式地指定发送的源端IP地址。使用<span style="color:orange;"> -S <spoofip>&nbsp;</spoofip></span>选项，Nmap将用指定的<span style="color:orange;"> spoofip</span>作为源端IP来发送探测包。</p><p>  另外可以使用Decoy（诱骗）方式来掩盖真实的扫描地址，例如<span style="color:orange;"> -D ip1,ip2,ip3,ip4,ME，</span>这样就会产生多个虚假的ip同时对目标机进行探测，其中<span style="color:orange;"> ME</span>代表本机的真实地址，这样对方的防火墙不容易识别出是扫描者的身份。</p><h2 id="4-定制探测包"><a href="#4-定制探测包" class="headerlink" title="4.定制探测包"></a>4.定制探测包</h2><p>​    Nmap提供<span style="color:orange;">–scanflags</span>选项，用户可以对需要发送的TCP探测包的标志位进行完全的控制。可以使用数字或符号指定TCP标志位：<span style="color:orange;">URG, ACK, PSH,RST, SYN,and FIN。</span></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sX -T4 --scanflags URGACKPSHRSTSYNFINtargetip</span><br></pre></td></tr></tbody></table></figure><p>​        此命令设置全部的TCP标志位为1，可以用于某些特殊场景的探测。</p><ul><li><span style="color:orange;">–ip-options</span>可以定制IP包的options字段</li><li><span style="color:orange;">-S</span>指定虚假的IP地址</li><li><span style="color:orange;">-D</span>指定一组诱骗IP地址（ME代表真实地址）</li><li><span style="color:orange;">-e</span>指定发送探测包的网络接口</li><li><span style="color:orange;">-g（–source-port）</span>指定源端口</li><li><span style="color:orange;">-f</span>指定使用IP分片方式发送探测包</li><li><span style="color:orange;">–spoof-mac</span>指定使用欺骗的MAC地址</li><li><span style="color:orange;">–TTL</span>指定生存时间。</li></ul><h1 id="0x007-扫描防火墙"><a href="#0x007-扫描防火墙" class="headerlink" title="0x007 扫描防火墙"></a>0x007 扫描防火墙</h1><hr><p>  防火墙在今天网络安全中扮演着重要的角色，如果能对防火墙系统进行详细的探测，那么绕开防火墙或渗透防火墙就更加容易。所以，此处讲解利用Nmap获取防火墙基本信息典型的用法。</p><p>  为了获取防火墙全面的信息，需尽可能多地结合不同扫描方式来探测其状态。在设计命令行参数时，可以综合网络环境来微调时序参数，以便加快扫描速度。<br>SYN扫描</p><p>  首先可以利用基本的SYN扫描方式探测其端口开放状态。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sS -T4 www.fakefirewall.com</span><br></pre></td></tr></tbody></table></figure><p>扫描输出为：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">All <span class="number">997</span> ports are filtered</span><br><span class="line">PORT    STATE  SERVICE</span><br><span class="line"><span class="number">80</span>/tcp  open   http</span><br><span class="line"><span class="number">113</span>/tcp closed auth</span><br><span class="line"><span class="number">507</span>/tcp open   crs</span><br></pre></td></tr></tbody></table></figure><p> 我们可以看到SYN方式探测到3个端口开放，而有997个端口被过滤。Nmap默认扫描只扫描1000个最可能开放的端口，如果想扫描全部的端口，使用命令</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sS -T4-p- www.fakefirewall.com</span><br></pre></td></tr></tbody></table></figure><h2 id="1-FIN扫描"><a href="#1-FIN扫描" class="headerlink" title="1. FIN扫描"></a>1. FIN扫描</h2><p>​    然后可以利用FIN扫描方式探测防火墙状态。FIN扫描方式用于识别端口是否关闭，收到RST回复说明该端口关闭，否则说明是<span style="color:orange;">open</span>或<span style="color:orange;">filtered</span>状态。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sF -T4 www.fakefirewall.com</span><br></pre></td></tr></tbody></table></figure><p>扫描输出为：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">PORT       STATE             SERVICE </span><br><span class="line"><span class="number">7</span>/tcp      open|filtered     echo </span><br><span class="line"><span class="number">9</span>/tcp      open|filtered     discard </span><br><span class="line"><span class="number">11</span>/tcp     open|filtered     systat </span><br><span class="line"><span class="number">13</span>/tcp     open|filtered     daytime </span><br><span class="line"><span class="number">23</span>/tcp     open|filtered     telnet </span><br><span class="line"><span class="number">25</span>/tcp     open|filtered     smtp </span><br><span class="line"><span class="number">37</span>/tcp     open|filtered     time </span><br><span class="line"><span class="number">79</span>/tcp     open|filtered     finger </span><br><span class="line"><span class="number">80</span>/tcp     open|filtered     http </span><br><span class="line">更多端口，此处省略</span><br></pre></td></tr></tbody></table></figure><h2 id="2-ACK扫描"><a href="#2-ACK扫描" class="headerlink" title="2.ACK扫描"></a>2.ACK扫描</h2><p> 然后利用ACK扫描判断端口是否被过滤。针对ACK探测包，未被过滤的端口（无论打开、关闭）会回复RST包。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sA -T4 www.fakefirewall.com</span><br></pre></td></tr></tbody></table></figure><p>扫描输出为：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Not shown: <span class="number">997</span> unfiltered ports</span><br><span class="line">PORT       STATE      SERVICE </span><br><span class="line"><span class="number">135</span>/tcp    filtered   msrpc </span><br><span class="line"><span class="number">1434</span>/tcp   filtered   ms-sql-m </span><br><span class="line"><span class="number">32777</span>/tcp  filtered   sometimes-rpc17</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>​    从结果可以997个端口是未被过滤的（<span style="color:orange;">unfiltered</span>），而3个（<span style="color:orange;">135/1434/32777</span>）被过滤了。所以，将ACK与FIN扫描的结果结合分析，我们可以找到很多开放的端口。例如7号端口，FIN中得出的状态是:<span style="color:orange;">open</span>或<span style="color:orange;">filtered</span>，从ACK中得出的状态是<span style="color:orange;">unfiltered</span>，那么该端口只能是<span style="color:orange;">open</span>的。</p><h2 id="3-Windows扫描"><a href="#3-Windows扫描" class="headerlink" title="3.Windows扫描"></a>3.Windows扫描</h2><p> 当然也可以利用Window扫描方式，得出一些端口信息，可以与之前扫描分析的结果相互补充。Window扫描方式只对某些TCP/IP协议栈才有效。</p><p>  window扫描原理与ACK类似，发送ACK包探测目标端口，对回复的RST包中的Window size进行解析。在某些TCPIP协议栈实现中，关闭的端口在RST中会将Window size设置为0；而开放的端口将Window size设置成非0的值。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sW -p- -T4 docsrv.caldera.com</span><br></pre></td></tr></tbody></table></figure><p>输出结果：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PORT    STATE    SERVICE </span><br><span class="line"><span class="number">7</span>/tcp   open     echo </span><br><span class="line"><span class="number">9</span>/tcp   open     discard</span><br><span class="line"><span class="number">11</span>/tcp  open     systat </span><br><span class="line"><span class="number">13</span>/tcp  open     daytime</span><br><span class="line">更多端口，此处省略</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>​    在采用多种方式获取出防火墙状态后，可以进一步进行应用程序与版本侦测及OS侦测，此处不再赘述！</p><h1 id="0x008-扫描路由器"><a href="#0x008-扫描路由器" class="headerlink" title="0x008 扫描路由器"></a>0x008 扫描路由器</h1><hr><p> Nmap内部维护了一份系统与设备的数据库（<code>nmap-os-db</code>），能够识别数千种不同系统与设备。所以，可以用来扫描主流的路由器设备。</p><h2 id="1-扫描思科路由器"><a href="#1-扫描思科路由器" class="headerlink" title="1.扫描思科路由器"></a>1.扫描思科路由器</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p1-<span class="number">25</span>,<span class="number">80</span>,<span class="number">512</span>-<span class="number">515</span>,<span class="number">2001</span>,<span class="number">4001</span>,<span class="number">6001</span>,<span class="number">9001</span> <span class="number">10.20</span><span class="number">.0</span><span class="number">.1</span>/<span class="number">16</span></span><br></pre></td></tr></tbody></table></figure><p>​    思科路由器会在上述端口中运行了常见的服务。列举出上述端口开放的主机，可以定位到路由器设备可能的IP地址及端口状态。</p><h2 id="2-扫描路由器TFTP"><a href="#2-扫描路由器TFTP" class="headerlink" title="2.扫描路由器TFTP"></a>2.扫描路由器TFTP</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap –sU –p69 –nvv target</span><br></pre></td></tr></tbody></table></figure><p>  大多数的路由器都支持TFTP协议（简单文件传输协议），该协议常用于备份和恢复路由器的配置文件，运行在UDP 69端口上。使用上述命令可以探测出路由器是否开放TFTP。</p><h2 id="3-扫描路由器操作系统"><a href="#3-扫描路由器操作系统" class="headerlink" title="3.扫描路由器操作系统"></a>3.扫描路由器操作系统</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -O -F -n <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span></span><br></pre></td></tr></tbody></table></figure><p> 与通用PC扫描方式类似，使用<span style="color:orange;">-O</span>选项扫描路由器的操作系统。<span style="color:orange;">-F</span>用于快速扫描最可能开放的100个端口，并根据端口扫描结果进一步做OS的指纹分析。</p><h1 id="0x009-扫描互联网"><a href="#0x009-扫描互联网" class="headerlink" title="0x009 扫描互联网"></a>0x009 扫描互联网</h1><hr><p>  Nmap内部的设计非常强大灵活，既能扫描单个主机、小型的局域网，也可以扫描成千上万台主机从中发掘用户关注的信息。扫描大量主机，需要对扫描时序等参数进行仔细的优化。</p><h2 id="1-发现互联网上web服务器"><a href="#1-发现互联网上web服务器" class="headerlink" title="1.发现互联网上web服务器"></a>1.发现互联网上web服务器</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -iR <span class="number">100000</span> -sS -PS80 -p <span class="number">80</span> -oG nmap.txt</span><br></pre></td></tr></tbody></table></figure><p>  随机地产生10万个IP地址，对其80端口进行扫描。将扫描结果以greppable（可用grep命令提取）格式输出到nmap.txt文件。可以使用grep命令从输出文件提取关心的细节信息。</p><h2 id="2-统计互联网主机基本数据"><a href="#2-统计互联网主机基本数据" class="headerlink" title="2. 统计互联网主机基本数据"></a>2. 统计互联网主机基本数据</h2><p>  Nmap的创始人Fyodor在2008年的Black Hat大会发表一篇演讲，讲的是如何使用Nmap来扫描互联网（Nmap: Scanning the Internet）</p><ul><li>资料地址：<a href="http://nmap.org/presentations/BHDC08/">Nmap</a></li></ul><p>  Fyodor进行互联网扫描的初衷是统计出网络经验数据并用之优化Nmap的性能。例如，根据统计出每个端口开放的概率，优先扫描常见端口，以节省用户的时间。</p><h2 id="3-产生随机IP地址"><a href="#3-产生随机IP地址" class="headerlink" title="3.产生随机IP地址"></a>3.产生随机IP地址</h2><p>  产生100万个随机的IP地址，并将之保存到文件中，方便后续扫描时作为参数输入。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap -iR <span class="number">1200000</span> -sL -n | grep <span class="string">"not scanned"</span> | awk <span class="string">'{print $2}'</span> | sort -n | uniq &gt;! tp; head -<span class="number">25000000</span> tp &gt;! tcp-allports-1M-IPs; rm tp</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>  上述命令含义：随机生成1200000个IP地址（==-iR 120000==），并进行列表扫描（==-sL==，列举出IP地址，不进行真正的扫描），不进行dns解析操作（==-n==），这样将产生Nmap列表扫描的结果。在此结果中搜出未扫描的行（==grep “not scanned”==），打印出每一行的第二列内容（==awk ‘{print $2}’==，也就是IP地址），然后对获取到的IP地址进行排序（==sort -n==），然后剔除重复IP地址，将结果保存到临时文件tp，再取出前1000000个IP地址保存到==tcp-allports-1M-IPs==文件中，删除临时文件。</p><p>  总之，此处产生了1000000个随机IP地址存放在==tcp-allports-1M-IPs==文件中。</p><h2 id="4-优化主机发现"><a href="#4-优化主机发现" class="headerlink" title="4.优化主机发现"></a>4.优化主机发现</h2><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sP -PE -PP -PS21,<span class="number">22</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">80</span>,<span class="number">113</span>,<span class="number">31339</span>-PA80,<span class="number">113</span>,<span class="number">443</span>,<span class="number">10042</span> --source-port <span class="number">53</span> -T4 -iL tcp-allports-1M-IPs</span><br></pre></td></tr></tbody></table></figure><p>  上述命令进行主机发现：使用产生的IP地址（==-iL tcp-allports-1M-IPs==），指定发送包的源端口为53（==–source-port 53==，该端口是DNS查询端口，一般的防火墙都允许来自此端口的数据包），时序级别为4（==-T4==，探测速度比较快），以TCP SYN包方式探测目标机的==21,22,23,25,80,113,31339==端口，以TCP ACK包方式探测对方==80,113,443,10042==端口，另外也发送==ICMP ECHO/ICMP TIMESTAMP==包探测对方主机。只要上述的探测包中得到一个回复，就可以证明目标主机在线。</p><h2 id="5-完整的扫描命令"><a href="#5-完整的扫描命令" class="headerlink" title="5.完整的扫描命令"></a>5.完整的扫描命令</h2><p> 在准备了必要的IP地址文件，并对主机发现参数优化后，我们就得到最终的扫描命令：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -S [srcip] -d --max-scan-delay <span class="number">10</span> -oAlogs/tcp-allports-%T-%D -iL tcp-allports-1M-IPs --max-retries <span class="number">1</span>--randomize-hosts -p- -PS21,<span class="number">22</span>,<span class="number">23</span>,<span class="number">25</span>,<span class="number">53</span>,<span class="number">80</span>,<span class="number">443</span> -T4 --min-hostgroup <span class="number">256</span> --min-rate175 –max-rate <span class="number">300</span></span><br></pre></td></tr></tbody></table></figure><p> 上述命令用于扫描互联网上100万台主机全部的TCP端口的开放情况。</p><p>​    使用包含100万个IP地址的文件（==-iL tcp-allports-1M-IPs==），源端IP地址设置为srcip(指定一个IP地址，保证该IP地址位于统一局域网中，否则无法收到目标机的回复包)，主机发现过程使用TCP SYN包探测目标机的==21,22,23,25,53,80,443==，扫描过程将随机打乱主机顺序（==–randomize-hosts==，因为文件中的IP已经排序，这里将之打乱，避免被防火墙检查出），端口扫描过程检查全部的TCP端口（==-p-==，端口1到65535），使用时序级别为4（==-T4==，速度比较快），将结果以==XML/grepable/==普通格式输出到文件中（==-oA logs/tcp-allports-%T-%D==，其中==%T==表示扫描时间，==%D==表示扫描日期）。</p><ul><li>==-d==表示打印调试出信息。</li><li>==–max-scan-delay 10==表示发包最多延时10秒，防止特殊情景下等待过长的时间。</li><li>==–max-retries 1==，表示端口扫描探测包最多被重传一次，防止Nmap在没有收到回复的情况下多次重传探测包，当然这样也会降低探测的准确性。</li><li>==–min-host-group 256==表示进行端口扫描与版本侦测时，同时进行探测的主机的数量，这里至少256个主机一组来进行扫描，可以加快扫描速度。</li><li>==–min-rate 175==和==–max-rate 300==，表示发包速率介于175和300之间，保证扫描速度不会太慢，也不会因为速率过高引起目标机的警觉。</li></ul><h2 id="6-扫描结果"><a href="#6-扫描结果" class="headerlink" title="6. 扫描结果"></a>6. 扫描结果</h2><p> Fyodor组织的此次扫描得出很多重要结论，统计出了互联网最有可能开放的10个TCP端口。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">80</span> (http) </span><br><span class="line"><span class="number">23</span> (telnet) </span><br><span class="line"><span class="number">22</span> (ssh)</span><br><span class="line"><span class="number">443</span> (https)</span><br><span class="line"><span class="number">3389</span> (ms-term-serv) </span><br><span class="line"><span class="number">445</span> (microsoft-ds) </span><br><span class="line"><span class="number">139</span> (netbios-ssn) </span><br><span class="line"><span class="number">21</span> (ftp) </span><br><span class="line"><span class="number">135</span> (msrpc)</span><br><span class="line"><span class="number">25</span> (smtp)</span><br></pre></td></tr></tbody></table></figure><p>最有可能开放的10个UDP端口。</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">137</span> (netbios-ns) </span><br><span class="line"><span class="number">161</span> (snmp) </span><br><span class="line"><span class="number">1434</span> (ms-sql-m) </span><br><span class="line"><span class="number">123</span> (ntp) </span><br><span class="line"><span class="number">138</span> (netbios-dgm) </span><br><span class="line"><span class="number">445</span> (microsoft-ds) </span><br><span class="line"><span class="number">135</span> (msrpc) </span><br><span class="line"><span class="number">67</span> (dhcps)</span><br><span class="line"><span class="number">139</span> (netbios-ssn) </span><br><span class="line"><span class="number">53</span> (domain)</span><br></pre></td></tr></tbody></table></figure><h1 id="0x010-扫描Web站点"><a href="#0x010-扫描Web站点" class="headerlink" title="0x010 扫描Web站点"></a>0x010 扫描Web站点</h1><hr><p>  Web是互联网上最广泛的应用，而且越来越多的服务倾向于以Web形式提供出来，所以对Web安全监管也越来越重要。目前安全领域有很多专门的Web扫描软件（如AppScan、WebInspect、W3AF），能够提供端口扫描、漏洞扫描、漏洞利用、分析报表等诸多功能。而Nmap作为一款开源的端口扫描器，对Web扫描方面支持也越来越强大，可以完成Web基本的信息探测：服务器版本、支持的Method、是否包含典型漏洞。功能已经远远超过同领域的其他开源软件，如HTTPrint、Httsquash。</p><p>  目前Nmap中对Web的支持主要通过Lua脚本来实现，NSE脚本库中共有50多个HTTP相关的脚本。</p><p>　　扫描实例：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV -p <span class="number">80</span> -T4 --script http*,defaultscanme.nmap.org</span><br></pre></td></tr></tbody></table></figure><p>  上面以扫描scanme.nmap.org的Web应用展示Nmap提供Web扫描能力，从图中可以看到扫描结果中提供了比较丰富的信息。</p><p>  首先是应用程序及版本：==Apachehttpd 2.2.14 ((Ubuntu))==  </p><p>​        然后搜出了该站点的==affiliate-id:==该ID可用于识别同一拥有者的不同页面。</p><p>  然后输出==HTTP-headers==信息，从中查看到基本配置信息。</p><p>  从==http-title==中，可以看到网页标题。某些网页标题可能会泄漏重要信息，所以这里也应对其检查。</p><h1 id="0x011-Python-Nmap"><a href="#0x011-Python-Nmap" class="headerlink" title="0x011 Python Nmap"></a>0x011 Python Nmap</h1><hr><p><strong>Python 安装 Nmap</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install python-nmap</span><br></pre></td></tr></tbody></table></figure><p><strong>Python Nmap Ping 扫描</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding=utf-8 -*- </span><br><span class="line"><span class="keyword">import</span> nmap </span><br><span class="line"><span class="keyword">import</span> sys </span><br><span class="line"><span class="function">def <span class="title">nmap_ping_scan</span><span class="params">(network_prefix)</span>: </span></span><br><span class="line"><span class="function">nm </span>= nmap.PortScanner() </span><br><span class="line">    ping_scan_raw_result = nm.scan(hosts=network_prefix,arguments=<span class="string">'-v -n -sn'</span>)        host_list = [] </span><br><span class="line">    <span class="keyword">for</span> Result in ping_scan_raw_result[<span class="string">'scan'</span>].values(): </span><br><span class="line"><span class="keyword">if</span> Result[<span class="string">'status'</span>][<span class="string">'state'</span>] == <span class="string">'up'</span>:            host_list.append(Result[<span class="string">'addresses'</span>][<span class="string">'ipv4'</span>]) </span><br><span class="line">            <span class="keyword">return</span> host_list</span><br><span class="line">            </span><br><span class="line">   <span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>: </span><br><span class="line"><span class="function"><span class="keyword">for</span> host in <span class="title">nmap_ping_scan</span><span class="params">(sys.argv[<span class="number">1</span>])</span>: </span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'%s %s'</span> % (host,<span class="string">'is UP'</span>)</span>)</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></tbody></table></figure><p>执行命令如下</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~/Desktop/CTF脚本/nmap# python3 nmap_ping_scan.py 192.168.1.0/24 192.168.1.1 is UP </span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.7</span> is UP </span><br><span class="line"><span class="number">192.168</span><span class="number">.1</span><span class="number">.9</span> is UP</span><br></pre></td></tr></tbody></table></figure><p><strong>Python Nmap -A 综合扫描</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding=utf-8 -*- </span><br><span class="line"><span class="keyword">import</span> nmap </span><br><span class="line"><span class="keyword">import</span> sys </span><br><span class="line"><span class="function">def <span class="title">nmap_A_scan</span><span class="params">(network_prefix)</span>: </span></span><br><span class="line"><span class="function">#创建一个扫描实例 </span></span><br><span class="line"><span class="function">    nm </span>= nmap.PortScanner() </span><br><span class="line">    #配置nmap扫描参数 </span><br><span class="line">    scan_raw_result = nm.scan(hosts=network_prefix, arguments=<span class="string">'-v -n -A'</span>) </span><br><span class="line">    #分析扫码结果 </span><br><span class="line">   <span class="keyword">for</span> host,result in scan_raw_result[<span class="string">'scan'</span>].items(): </span><br><span class="line">  <span class="keyword">if</span> result[<span class="string">'status'</span>][<span class="string">'state'</span>] == <span class="string">'up'</span>: </span><br><span class="line">print(<span class="string">'#'</span>*<span class="number">17</span> + <span class="string">'Host:'</span> + host + <span class="string">'#'</span>*<span class="number">17</span>) </span><br><span class="line">         print(<span class="string">'-'</span>*<span class="number">20</span> + <span class="string">'操作系统猜测'</span> + <span class="string">'-'</span>*<span class="number">20</span>) </span><br><span class="line">         <span class="keyword">for</span> os in result[<span class="string">'osmatch'</span>]: </span><br><span class="line">   print(<span class="string">'操作系统为: '</span> + os[<span class="string">'name'</span>] + <span class="string">' 准确度为: '</span> + os[<span class="string">'accuracy'</span>]) </span><br><span class="line">         idno = <span class="number">1</span> </span><br><span class="line">         <span class="keyword">try</span>: </span><br><span class="line">  <span class="keyword">for</span> port in result[<span class="string">'tcp'</span>]:</span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line">   print(<span class="string">'-'</span>*<span class="number">17</span> + <span class="string">'TCP服务详细信息'</span> + <span class="string">'['</span> + str(idno) + <span class="string">']'</span> + <span class="string">'-'</span>*<span class="number">17</span>) </span><br><span class="line">                idno = idno + <span class="number">1</span> </span><br><span class="line">                print(<span class="string">'TCP端口号:'</span> + str(port)) </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'状态: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'state'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">     print(<span class="string">'原因: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'reason'</span>]) </span><br><span class="line">                except:</span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'额外信息: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'extrainfo'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'名字: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'name'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'版本: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'version'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: print(<span class="string">'产品: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'product'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'CPE: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'cpe'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass </span><br><span class="line">                <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'脚本: '</span> + result[<span class="string">'tcp'</span>][port][<span class="string">'script'</span>]) </span><br><span class="line">                except: </span><br><span class="line">pass</span><br><span class="line">          except:</span><br><span class="line">pass </span><br><span class="line">    except: </span><br><span class="line">pass </span><br><span class="line">    idno = <span class="number">1</span> </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line"><span class="keyword">for</span> port in result[<span class="string">'udp'</span>]:</span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'-'</span>*<span class="number">17</span> + <span class="string">'UDP服务详细信息'</span> + <span class="string">'['</span> + str(idno) + <span class="string">']'</span> + <span class="string">'-'</span>*<span class="number">17</span>)      idno = idno + <span class="number">1</span> </span><br><span class="line">                 print(<span class="string">'UDP端口号:'</span> + str(port)) </span><br><span class="line">                 <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'状态: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'state'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass</span><br><span class="line">                 <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'原因: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'reason'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass</span><br><span class="line">                 <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'额外信息: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'extrainfo'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass</span><br><span class="line">                 <span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">'名字: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'name'</span>])</span><br><span class="line">                 except: </span><br><span class="line">pass </span><br><span class="line">                 <span class="keyword">try</span>: print(<span class="string">'版本: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'version'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass </span><br><span class="line">                 <span class="keyword">try</span>:</span><br><span class="line">print(<span class="string">'产品: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'product'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass</span><br><span class="line">                 <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'CPE: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'cpe'</span>]) </span><br><span class="line">                 except: </span><br><span class="line">pass </span><br><span class="line">                 <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'脚本: '</span> + result[<span class="string">'udp'</span>][port][<span class="string">'script'</span>])</span><br><span class="line">                 except: </span><br><span class="line">pass</span><br><span class="line">          except: </span><br><span class="line">pass </span><br><span class="line">   except: </span><br><span class="line">pass</span><br><span class="line">   print(<span class="string">'-'</span>*<span class="number">20</span> + <span class="string">'地址详细信息'</span> + <span class="string">'-'</span>*<span class="number">20</span>)</span><br><span class="line">   <span class="keyword">try</span>: </span><br><span class="line">print(<span class="string">'IP地址: '</span> + result[<span class="string">'addresses'</span>][<span class="string">'ipv4'</span>])</span><br><span class="line">         print(<span class="string">'MAC地址: '</span> + result[<span class="string">'addresses'</span>][<span class="string">'mac'</span>]) </span><br><span class="line">  except:</span><br><span class="line">pass </span><br><span class="line"> <span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">nmap_A_scan(sys.argv[<span class="number">1</span>])</span><br></pre></td></tr></tbody></table></figure><p>执行命令如下</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~/Desktop/CTF脚本/nmap# python3 nmap_A_scan.py 192.168.1.7 #################Host:192.168.1.7################# </span><br><span class="line">--------------------操作系统猜测-------------------- </span><br><span class="line">操作系统为: Microsoft Windows Server <span class="number">2008</span> SP1 or Windows Server <span class="number">2008</span> R2 准确度为: <span class="number">93</span> 操作系统为: Microsoft Windows <span class="number">7</span> 准确度为: <span class="number">91</span> </span><br><span class="line">操作系统为: Microsoft Windows Phone <span class="number">7.5</span> or <span class="number">8.0</span> 准确度为: <span class="number">87</span> </span><br><span class="line">操作系统为: Cisco ACE load balancer 准确度为: <span class="number">87</span> </span><br><span class="line">操作系统为: Microsoft Windows Server <span class="number">2008</span> R2 or Windows <span class="number">8.1</span> 准确度为: <span class="number">86</span> </span><br><span class="line">操作系统为: Microsoft Windows <span class="number">7</span> Professional or Windows <span class="number">8</span> 准确度为: <span class="number">86</span> </span><br><span class="line">操作系统为: Microsoft Windows <span class="number">7</span> SP1 or Windows Server <span class="number">2008</span> R2 准确度为: <span class="number">86</span> </span><br><span class="line">操作系统为: Microsoft Windows Vista SP0 or SP1, Windows Server <span class="number">2008</span> SP1, or Windows <span class="number">7</span> 准确度为: <span class="number">86</span> </span><br><span class="line">操作系统为: Microsoft Windows <span class="number">8.1</span> Update <span class="number">1</span> 准确度为: <span class="number">86</span> </span><br><span class="line">操作系统为: Microsoft Windows <span class="number">7</span> or Windows Server <span class="number">2008</span> R2 准确度为: <span class="number">85</span> </span><br><span class="line">-----------------TCP服务详细信息[<span class="number">1</span>]----------------- </span><br><span class="line">TCP端口号:<span class="number">135</span> </span><br><span class="line">状态: open </span><br><span class="line">原因: syn-ack </span><br><span class="line">额外信息: </span><br><span class="line">名字: msrpc</span><br><span class="line">版本: </span><br><span class="line">产品: Microsoft Windows RPC CPE: cpe:/o:microsoft:windows </span><br><span class="line">-----------------TCP服务详细信息[<span class="number">2</span>]----------------- </span><br><span class="line">TCP端口号:<span class="number">139</span> </span><br><span class="line">状态: open </span><br><span class="line">原因: syn-ack </span><br><span class="line">额外信息: </span><br><span class="line">名字: netbios-ssn </span><br><span class="line">版本: </span><br><span class="line">产品: Microsoft Windows netbios-ssn </span><br><span class="line">CPE: cpe:/o:microsoft:windows </span><br><span class="line">... </span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><blockquote><p><a href="http://xael.org/pages/python-nmap-en.html">Python Nmap更多用法</a></p></blockquote><h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><hr><ul><li><a href="https://blog.csdn.net/aspirationflow/article/details/7983368">https://blog.csdn.net/aspirationflow/article/details/7983368</a></li><li><a href="http://xael.org/pages/python-nmap-en.html">http://xael.org/pages/python-nmap-en.html</a></li><li><a href="http://www.91ri.org/3550.html">http://www.91ri.org/3550.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 实用工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nmap </tag>
            
            <tag> 网络渗透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实践二</title>
      <link href="2020/12/13/shi-jian-er/"/>
      <url>2020/12/13/shi-jian-er/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>实践</title>
      <link href="2020/12/13/shi-jian/"/>
      <url>2020/12/13/shi-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="适合新手的CTF靶场集合"><a href="#适合新手的CTF靶场集合" class="headerlink" title="适合新手的CTF靶场集合"></a>适合新手的CTF靶场集合</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​    一直想步入CTF的大阵营，逛CSDN时候发现了适合新手的CTF靶场的集合。多看多学多思考</p><hr><h2 id="CTF-比赛时间表"><a href="#CTF-比赛时间表" class="headerlink" title="CTF 比赛时间表"></a>CTF 比赛时间表</h2><ul><li>CTFwiki（入门必看wiki）:<a href="https://ctf-wiki.github.io/ctf-wiki/#/introduction">https://ctf-wiki.github.io/ctf-wiki/#/introduction</a></li><li>XCTF社区：<a href="https://time.xctf.org.cn/">https://time.xctf.org.cn</a></li><li>i春秋:<a href="https://www.ichunqiu.com/competition">https://www.ichunqiu.com/competition</a></li><li>CTFrank:<a href="https://ctfrank.org/">https://ctfrank.org/</a></li><li>CTFtime（基本都是国外的）: <a href="https://ctftime.org/">https://ctftime.org</a></li></ul><h2 id="本地靶场"><a href="#本地靶场" class="headerlink" title="本地靶场"></a>本地靶场</h2><ul><li>SQLi: <a href="https://github.com/Audi-1/sqli-labs">https://github.com/Audi-1/sqli-labs</a></li><li>DVWA: <a href="https://github.com/ethicalhack3r/DVWA">https://github.com/ethicalhack3r/DVWA</a></li><li>metsploitable3: <a href="https://github.com/rapid7/metasploitable3/">https://github.com/rapid7/metasploitable3/</a></li><li>Webgoat:<a href="https://github.com/WebGoat/WebGoat">https://github.com/WebGoat/WebGoat</a></li><li>Juiceshop: <a href="https://github.com/bkimminich/juice-shop">https://github.com/bkimminich/juice-shop</a></li></ul><h2 id="国内-CTF"><a href="#国内-CTF" class="headerlink" title="国内 CTF"></a>国内 CTF</h2><ul><li>实验吧:  [<a href="http://www.shiyanbar.com/">http://www.shiyanbar.com</a></li><li>XCTF 实训平台: [<a href="http://oj.xctf.org.cn/">http://oj.xctf.org.cn</a></li><li>安恒周周练： <a href="https://www.linkedbyx.com/home">https://www.linkedbyx.com/home</a></li><li>XSS专练： <a href="https://xss.haozi.me/tools/xss-encode/">https://xss.haozi.me/tools/xss-encode/</a></li><li>南京邮电大学CTF/网络攻防训练平台: <a href="http://ctf.nuptzj.cn/">http://ctf.nuptzj.cn/</a></li><li>BugkuCTF: <a href="https://ctf.bugku.com/">https://ctf.bugku.com/</a></li></ul><h2 id="国外CTF"><a href="#国外CTF" class="headerlink" title="国外CTF"></a>国外CTF</h2><ul><li>Root-me: [<a href="https://root-me.org/">https://root-me.org</a></li><li>CTF365: <a href="https://ctf365.com/">https://ctf365.com/</a></li></ul><h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><ul><li>Vulhub: <a href="https://github.com/vulhub/vulhub">https://github.com/vulhub/vulhub</a></li></ul><h2 id="其它大佬整理的链接"><a href="#其它大佬整理的链接" class="headerlink" title="其它大佬整理的链接"></a>其它大佬整理的链接</h2><ul><li>Awesome-Platforms/CTF-Platforms: <a href="https://github.com/We5ter/Awesome-Platforms/blob/master/CTF-Platforms.md">https://github.com/We5ter/Awesome-Platforms/blob/master/CTF-Platforms.md</a></li><li>知乎提问： <a href="https://www.zhihu.com/question/267204109/answer/320502511">https://www.zhihu.com/question/267204109/answer/320502511</a></li></ul><p>另外，对于各个入门ctf的小伙伴，建议看看XCTF上的攻防世界，上面的题目由浅入深还是挺好的</p><p>主要就是看wp需要金币，CSDN里转载的<a href="https://www.xiaozzz.xyz/"></a><a href="https://www.xiaozzz.xyz/">xiaoZ’s Blog的博客</a>里，有需要的可以看看。<a href="https://www.xiaozzz.xyz/">https://www.xiaozzz.xyz/</a></p><p>置</p>]]></content>
      
      
      <categories>
          
          <category> 实用工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> 渗透测试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的第一篇博客文章</title>
      <link href="2020/12/09/wo-de-di-yi-pian-bo-ke-wen-zhang/"/>
      <url>2020/12/09/wo-de-di-yi-pian-bo-ke-wen-zhang/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/12/09/hello-world/"/>
      <url>2020/12/09/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
